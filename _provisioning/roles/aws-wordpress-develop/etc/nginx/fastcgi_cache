# fastcgi_cache

fastcgi_cache            fastcgizone;
fastcgi_cache_key        "$scheme$request_method$host$request_uri";

fastcgi_cache_methods    GET HEAD;  # Only GET and HEAD methods apply
fastcgi_cache_bypass     $no_cache; # Don't pull from cache based on $no_cache
fastcgi_no_cache         $no_cache; # Don't save to cache based on $no_cache

fastcgi_cache_valid      200  30m;
fastcgi_cache_valid      301   5m;
fastcgi_cache_valid      302   5m;
fastcgi_cache_valid      404   1m;

fastcgi_cache_use_stale  error timeout invalid_header http_500;

add_header X-Fastcgi-Cache $upstream_cache_status;
